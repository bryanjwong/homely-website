(this.webpackJsonphomely=this.webpackJsonphomely||[]).push([[0],{250:function(e,t,a){},380:function(e,t,a){e.exports=a.p+"static/media/logo.48b6a2b4.png"},391:function(e,t,a){e.exports=a(509)},396:function(e,t,a){},397:function(e,t,a){},504:function(e,t,a){},506:function(e,t,a){},509:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(18),l=a.n(s),r=(a(396),a(50)),i=a(51),c=a(73),u=a(52),m=a(53),d=a(110),h=a(84),p=a(98),g=a(97),b=(a(397),a(534)),v=a(54),E=a.n(v),f=a(221),y=a(220),k=a(368),T=a.n(k),w=(o.a.Component,a(381)),C=a(346),N=a(537),U=a(538),j=a(378),S=a.n(j),O=a(209),x=a.n(O),L=a(212),B=a.n(L),I=a(210),A=a.n(I),z=a(211),D=a.n(z),P=a(213),F=a.n(P);function _(){var e=Object(d.a)(["\n  justify-content: center;\n  margin: auto;\n"]);return _=function(){return e},e}var W=Object(g.a)("div")(_()),H=Object(C.a)({root:{width:500}});function G(){var e=H(),t=o.a.useState("recents"),a=Object(w.a)(t,2),n=a[0],s=a[1];return o.a.createElement(W,null,o.a.createElement(N.a,{value:n,onChange:function(e,t){s(t)},className:e.root},o.a.createElement(U.a,{label:"All",value:"All",icon:o.a.createElement(S.a,null)}),o.a.createElement(U.a,{label:"Cooking",value:"Cooking",icon:o.a.createElement(x.a,null)}),o.a.createElement(U.a,{label:"Art",value:"Art",icon:o.a.createElement(A.a,null)}),o.a.createElement(U.a,{label:"Gaming",value:"Gaming",icon:o.a.createElement(D.a,null)}),o.a.createElement(U.a,{label:"Health",value:"Health",icon:o.a.createElement(B.a,null)}),o.a.createElement(U.a,{label:"Adult Life",value:"Adult Life",icon:o.a.createElement(F.a,null)})))}var M=a(539),J=a(540),R=a(541),V=a(252),q=a(255),Q=a.n(q),X=a(257),Y=(a(504),Object(C.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:"#edcadb"},gridList:{width:1e3,height:580,transform:"translateZ(0)"},icon:{color:"rgba(255, 255, 255, 0.54)"}}}))),Z=function(e){var t=Y();return o.a.createElement("div",{className:t.root},o.a.createElement(M.a,{cellHeight:180,spacing:10,className:t.gridList,cols:3},e.data.map((function(a,n){return o.a.createElement(J.a,{key:e.data[n].id,cols:e.cols||1},o.a.createElement(X.a,{small:e.data[n].image,large:e.data[n].image,alt:e.data[n].description}),o.a.createElement(R.a,{title:e.data[n].title,subtitle:o.a.createElement("span",null,"by: ",e.data[n].owner),actionIcon:o.a.createElement(V.a,{"aria-label":"star ".concat(e.data[n].title),className:t.icon},o.a.createElement(Q.a,null)),actionPosition:"right",className:t.titleBar}))}))))},$=(n.Component,a(250),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){e.preventDefault(),console.log(e.target.getElementsByClassName("password-match-error")[0]),n.state.inputs.password===n.state.inputs.password2?E.a.post("https://homely-bruins.herokuapp.com/api/auth/register/",n.state.inputs).then((function(e){var t=e.data.token;n.setState({hidden:!0}),n.props.setToken(t)})).catch((function(e){console.log(e),n.setState({registerError:!0})})):n.setState({passwordError:!0})},n.onChange=function(e){var t=n.state.inputs;t[e.target.name]=e.target.value,n.setState({inputs:t})},n.state={inputs:{username:"",email:"",first_name:"",last_name:"",password:"",password2:""},passwordError:!1,registerError:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.registerError?"Error: invalid input!":"";return this.props.activeUser?null:o.a.createElement("div",{className:"login-container"},o.a.createElement("p",{className:"log-header"},"Create an account"),o.a.createElement("p",{className:"body"},"We know staying at home can be hard. That\u2019s why we want to help you stay productive and share your successes with those around you. "),o.a.createElement("p",{className:"body"},"Create an account to connect with others and exchange ideas on how we can tackle self isolation together."),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("label",null,"Email"),o.a.createElement("br",null),o.a.createElement("input",{size:"50",type:"email",name:"email",className:"login-input",placeholder:"johnnyappleseed@gmail.com",onChange:this.onChange,value:this.state.inputs.email}),o.a.createElement("br",null),o.a.createElement("label",null,"Username"),o.a.createElement("br",null),o.a.createElement("input",{size:"50",type:"text",name:"username",className:"login-input",placeholder:"johnnyappleseed",onChange:this.onChange,value:this.state.inputs.username}),o.a.createElement("br",null),o.a.createElement("label",null,"Password"),o.a.createElement("br",null),o.a.createElement("input",{size:"50",type:"password",name:"password",className:"login-input",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:this.onChange,value:this.state.inputs.password}),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("label",null,"Verify Password"),o.a.createElement("label",{className:"error",style:{visibility:this.state.passwordError?"visible":"hidden"}},"Your passwords do not match!")),o.a.createElement("br",null),o.a.createElement("input",{size:"50",type:"password",name:"password2",className:"login-input",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:this.onChange,value:this.state.inputs.password2}),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("button",{class:"styled-button"},"Connect"),o.a.createElement("div",{className:"error body"},e))))}}]),a}(n.Component)),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={inputs:{username:"",password:""},loginError:!1},e.onSubmit=function(t){t.preventDefault(),E.a.post("https://homely-bruins.herokuapp.com/api/auth/login/",e.state.inputs).then((function(t){var a=t.data.token;e.props.setToken(a)})).catch((function(t){console.log(t),e.setState({loginError:!0})}))},e.onChange=function(t){var a=e.state.inputs;a[t.target.name]=t.target.value,e.setState({inputs:a})},e}return Object(i.a)(a,[{key:"render",value:function(){if(this.props.activeUser)return null;var e=this.state.loginError?"Error: invalid login!":"";return o.a.createElement("div",{className:"login-container"},o.a.createElement("p",{className:"log-header"},"Sign in"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("label",null,"Username"),o.a.createElement("br",null),o.a.createElement("input",{className:"username login-input",size:"50",type:"text",name:"username",placeholder:"johnnyappleseed",onChange:this.onChange,value:this.state.inputs.username}),o.a.createElement("br",null),o.a.createElement("label",null,"Password"),o.a.createElement("br",null),o.a.createElement("input",{className:"password login-input",size:"50",type:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:this.onChange,value:this.state.inputs.password}),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("button",{className:"styled-button",type:"submit"},"Connect"),o.a.createElement("div",{className:"error body"},e)),o.a.createElement("br",null),o.a.createElement(h.b,{to:"/register",className:"register-button"},o.a.createElement("button",{className:"styled-button"},"I don't have an account"))))}}]),a}(o.a.Component),ee=(a(506),a(256)),te=a.n(ee),ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({text:e.target.value})},n.state={text:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user?this.props.user.username+"'s":"my";return o.a.createElement("div",{className:"list-container"},o.a.createElement("div",{className:"header"},o.a.createElement("h1",{className:"todo-header"},t," to do list")),o.a.createElement("hr",null),o.a.createElement("ul",{className:"todo-list"},o.a.createElement("form",{className:"add-todo-form",onSubmit:function(){e.props.onSubmit(e.state.text),e.setState({text:""})}},o.a.createElement("li",null,o.a.createElement("input",{onChange:this.onChange,type:"text",className:"new-todo",value:this.state.text,placeholder:"Add a new task..."})),o.a.createElement("input",{type:"submit",value:"Submit",style:{display:"none"}}),this.props.todos)))}}]),a}(n.Component),ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={inputs:{title:"",description:"",completed:!0,owner:"",image:null,activity_type:""},selectedCategory:-1},n.onChange=n.onChange.bind(Object(c.a)(n)),n.onSubmit=n.onSubmit.bind(Object(c.a)(n)),n}return Object(i.a)(a,[{key:"handleCatButton",value:function(e,t){this.state.selectedCategory>=0&&(document.getElementById("cat-btn-"+this.state.selectedCategory).className="cat-button");document.getElementById("cat-btn-"+t).className="cat-button-selected",this.setState({selectedCategory:t})}},{key:"onChange",value:function(e){var t=this.state.inputs;t[e.target.name]=e.target.value,this.setState({inputs:t})}},{key:"onSubmit",value:function(){console.log("form submitted"),this.props.onSubmit(this.state),this.setState({inputs:{title:"",description:"",completed:!0,owner:"",image:null,activity_type:""}})}},{key:"render",value:function(){var e=this,t=this.state.registerError?"Error: invalid input!":"";return this.props.activeUser?null:o.a.createElement("div",{class:"upload-container"},o.a.createElement("p",{className:"log-header"},"Full Send."),o.a.createElement("p",{className:"body"},"It's time to share the small (or big) successes!"),o.a.createElement("label",null,"Title"),o.a.createElement("br",null),o.a.createElement("input",{size:"50",type:"text",name:"title",className:"login-input",onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement("label",null,"Picture/Video"),o.a.createElement("br",null),o.a.createElement("input",{type:"file",name:"image",className:"upload-btn styled-button"}),o.a.createElement("br",null),o.a.createElement("label",null,"Description"),o.a.createElement("br",null),o.a.createElement("textarea",{rows:"2",cols:"25",size:"200",type:"text",name:"description",className:"login-input large-login-input",placeholder:"Write a short description about what you accomplished today!",onChange:this.onChange,value:this.state.inputs.username}),o.a.createElement("br",null),o.a.createElement("label",null,"Category"),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"cat-button",id:"cat-btn-1",onClick:function(t){return e.handleCatButton(t,1)}},o.a.createElement(x.a,null)),o.a.createElement("div",{className:"cat-button",id:"cat-btn-2",onClick:function(t){return e.handleCatButton(t,2)}},o.a.createElement(A.a,null)),o.a.createElement("div",{className:"cat-button",id:"cat-btn-3",onClick:function(t){return e.handleCatButton(t,3)}},o.a.createElement(D.a,null)),o.a.createElement("div",{className:"cat-button",id:"cat-btn-4",onClick:function(t){return e.handleCatButton(t,4)}},o.a.createElement(B.a,null)),o.a.createElement("div",{className:"cat-button",id:"cat-btn-5",onClick:function(t){return e.handleCatButton(t,5)}}," ",o.a.createElement(F.a,null))),o.a.createElement("br",null),o.a.createElement("div",{className:"container"},o.a.createElement("button",{onClick:this.onSubmit,class:"upload-btn styled-button"},"Share"),o.a.createElement("div",{className:"error body"},t)))}}]),a}(n.Component),oe=a(380),se=a.n(oe);function le(){var e=Object(d.a)(["\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n"]);return le=function(){return e},e}function re(){var e=Object(d.a)(["\n  background: #edcadb;\n  padding: 40px;\n  margin: 0px 40px 0px 70px;\n"]);return re=function(){return e},e}function ie(){var e=Object(d.a)(['\n  padding: 20px;\n  text-align: left;\n  background: #3b55de;\n  color: #f5e5e5;\n  font-family: "Quando", serif;\n']);return ie=function(){return e},e}function ce(){var e=Object(d.a)(["\n  margin: auto;\n  justify-content: center;\n  text-align: center;\n"]);return ce=function(){return e},e}var ue=Object(g.a)("div")(ce()),me=Object(g.a)("div")(ie()),de=Object(g.a)("div")(re()),he=(Object(g.a)("div")(le()),[{id:5,title:"Hit the gym",completed:!1,owner:"bryan"},{id:6,title:"Pay bills",completed:!0,owner:"bryan"},{id:7,title:"Meet George",completed:!1,owner:"bryan"},{id:8,title:"Buy eggs",completed:!1,owner:"bryan"},{id:9,title:"Read a book",completed:!1,owner:"bryan"},{id:10,title:"Organize office",description:"a",completed:!1,owner:1}]),pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={activeUserToken:null,activeUser:null,activeUserTodos:he,loggingIn:!1,todoList:[],isFetchingData:!1,data:null,sharedTodoTitle:null},n.setToken=n.setToken.bind(Object(c.a)(n)),n.fetchUserInfo=n.fetchUserInfo.bind(Object(c.a)(n)),n.generateTodoList=n.generateTodoList.bind(Object(c.a)(n)),n.addTodo=n.addTodo.bind(Object(c.a)(n)),n.handleLogout=n.handleLogout.bind(Object(c.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.generateTodoList(),this.setState({isFetchingData:!0}),document.getElementsByClassName("jss124")&&(document.getElementsByClassName("jss124").className+=" feed"),E.a.get("https://homely-bruins.herokuapp.com/api/todos/").then((function(t){e.setState({isFetchingData:!1,data:t.data.reverse()})})).catch((function(e){return console.log(e)}))}},{key:"fetchUserInfo",value:function(){var e=this;console.log("Attemping to fetch user info using: ","Token ".concat(this.state.activeUserToken)),E.a.get("https://homely-bruins.herokuapp.com/api/auth/user/",{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(this.state.activeUserToken)}}).then((function(t){e.setState({activeUserTodos:t.data.ptodo_set,activeUser:t.data}),e.generateTodoList()})).catch((function(e){return console.log(e)}))}},{key:"setToken",value:function(e){this.setState({activeUserToken:e,loggingIn:!1}),this.fetchUserInfo()}},{key:"handleLogout",value:function(){var e=this;this.state.activeUserToken&&(console.log("Attemping to log out user using: ","Token ".concat(this.state.activeUserToken)),E.a.post("https://homely-bruins.herokuapp.com/api/auth/logout/",null,{headers:{Authorization:"Token ".concat(this.state.activeUserToken)}}).then((function(t){console.log(t),e.setState({activeUserToken:null,activeUser:null,activeUserTodos:he}),e.generateTodoList()})).catch((function(e){return console.log(e)})))}},{key:"handleUploadButton",value:function(e,t){var a=this.state.activeUserTodos[t];document.getElementById(t).className+=" exit-left",this.setState({sharedTodoTitle:a.title}),this.deleteTodo(t)}},{key:"generateTodoList",value:function(){var e=this;if(this.state.activeUserTodos){for(var t=[],a=function(a){var n=e.state.activeUserTodos[a],s=n.completed?"checked":"",l=n.title,r=n.completed?o.a.createElement("div",{onClick:function(t){e.handleUploadButton(t,a),t.stopPropagation()},className:"upload"},"\u2191"):null;t.push(o.a.createElement("li",{id:a,onClick:function(){e.toggleComplete(a)},className:s},l,r,o.a.createElement("div",{onClick:function(t){e.deleteTodo(a),t.stopPropagation()},className:"close"},"X")))},n=0;n<this.state.activeUserTodos.length;n++)a(n);this.setState({todoList:t}),console.log("The following todo list was generated:",t)}}},{key:"toggleComplete",value:function(e){var t=this;if(!(this.state.activeUserTodos.length<=e)){var a=this.state.activeUserTodos;if(a[e].completed=!a[e].completed,!this.state.activeUser)return console.log("Not logged in"),this.setState({activeUserTodos:a}),void this.generateTodoList();console.log("attempting request on",a[e].id,"with",a[e]),E.a.put("https://homely-bruins.herokuapp.com/api/ptodos/".concat(a[e].id,"/"),{title:a[e].title,description:a[e].description,completed:a[e].completed},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("successfully wrote"),t.setState({activeUserTodos:a}),t.generateTodoList()})).catch((function(e){return console.log(e)}))}}},{key:"addTodo",value:function(e){var t=this;console.log("adding",e);var a={title:e,completed:!1,owner:this.state.activeUser?this.state.activeUser.username:""};if(!this.state.activeUser){var n=this.state.activeUserTodos;return n.push(a),this.setState({activeUserTodos:n}),this.generateTodoList(),void console.log("User isnt logged in")}console.log("Attempting to post",a),E.a.post("https://homely-bruins.herokuapp.com/api/ptodos/",a).then((function(e){console.log("Todo successfully posted");var n=t.state.activeUserTodos;n.push(a),t.setState({activeUserTodos:n}),t.fetchUserInfo()})).catch((function(e){return console.log(e)}))}},{key:"deleteTodo",value:function(e){var t=this.state.activeUserTodos,a=t.splice(e,1)[0];console.log("Removed todo:",a.title),this.setState({activeUserTodos:t}),this.generateTodoList(),this.state.activeUser&&(console.log("Attempting to delete todo with id:",a.id),E.a.delete("https://homely-bruins.herokuapp.com/api/ptodos/".concat(a.id,"/")).then((function(e){console.log("Successfully deleted todo with id",a.id)})).catch((function(e){return console.log(e)})))}},{key:"uploadTodo",value:function(e){var t,a=this;switch(e.selectedCategory){case 1:t="food";break;case 2:t="art";break;case 3:t="gaming";break;case 4:t="fitness";break;case 5:t="hobby";break;default:t="other"}var n=e.inputs,o={title:n.title,description:n.description,completed:!0,owner:this.state.activeUser?this.state.activeUser.username:"Anonymous",activity_type:t};console.log("Attempting to post",o),E.a.post("https://homely-bruins.herokuapp.com/api/todos/",o).then((function(e){console.log("Todo successfully posted"),console.log(e.data);var t=a.state.data;t.push(e.data),a.setState({data:t,sharedTodoTitle:null})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.activeUser?this.state.activeUser.username:"",a=this.state.activeUser?o.a.createElement(h.b,{to:"/"},o.a.createElement("button",{className:"log-button",onClick:this.handleLogout},"Logout")):o.a.createElement(h.b,{to:"/login"},o.a.createElement("button",{className:"log-button",onClick:function(){return e.setState({loggingIn:!0})}},"Login")),n=this.state.activeUser?"welcome "+t+"!":"",s=this.state.loggingIn?null:o.a.createElement(ae,{onSubmit:this.addTodo,todos:this.state.todoList,user:this.state.activeUser});if(this.state.isFetchingData||!this.state.data)return o.a.createElement("p",null);var l=this.state.data,r=this.state.sharedTodoTitle?o.a.createElement("div",{className:"fade-in"},o.a.createElement(ne,{onSubmit:function(t){return e.uploadTodo(t)},title:this.state.sharedTodoTitle})):o.a.createElement("div",{className:"fade-out"},o.a.createElement(ne,{onSubmit:function(t){return e.uploadTodo(t)},title:this.state.sharedTodoTitle}));return o.a.createElement(ue,null,o.a.createElement(h.a,null,o.a.createElement(b.a,{container:!0,spacing:0},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(me,null,o.a.createElement("div",{className:"logo-text"},o.a.createElement(h.b,{to:"/",style:{textDecoration:"none",color:"#F0E9E4"},onClick:function(){return e.setState({loggingIn:!1})}},"homely",o.a.createElement("img",{src:se.a,className:"logo"})),a,o.a.createElement("div",{className:"user-greeting"},n)))),o.a.createElement(b.a,{item:!0,xs:8},o.a.createElement(de,null,o.a.createElement(G,null),o.a.createElement(te.a,{left:!0},o.a.createElement("div",{id:"feed"},o.a.createElement(Z,{id:"feed",data:l}))))),o.a.createElement(b.a,{item:!0,xs:4},s,r,o.a.createElement(p.c,null,o.a.createElement(p.a,{expact:!0,path:"/register",render:function(t){return o.a.createElement($,Object.assign({},t,{setToken:e.setToken,activeUser:e.state.activeUser}))}}),o.a.createElement(p.a,{expact:!0,path:"/login",render:function(t){return o.a.createElement(K,Object.assign({},t,{setToken:e.setToken,activeUser:e.state.activeUser}))}})))),o.a.createElement(b.a,{item:!0,xs:4})))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[391,1,2]]]);
//# sourceMappingURL=main.8005e9ad.chunk.js.map